<script setup>
import { ref, watch, onMounted } from 'vue';
import { usePage } from '@inertiajs/vue3';
import NavBarElement from '@/Components/NavBarElement.vue';

const page = usePage();

const isUrl = (...urls) => {
    let currentUrl = page.url.substring(1);
    if (urls[0] === '') {
        return currentUrl === '';
    }
    return urls.filter(url => currentUrl.startsWith(url)).length;
}

</script>

<template>
    <div class="fixed border-t border-gray-200 bottom-0 left-0 z-50 w-full h-20 bg-white">
        <div class="grid h-full max-w-lg grid-cols-4 mx-auto font-medium">

            <NavBarElement label="Accueil" href="/" :class="{'active': isUrl('')}">
                <svg data-outlined class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="19" height="21" viewBox="0 0 19 21" fill="CurrentColor">
                    <path
                        d="M1.9 19.1355H6.13858V11.7491H12.8614V19.1355H17.1V7.94822L9.5 2.33067L1.9 7.94822V19.1355ZM0 21V7.01595L9.5 0L19 7.01595V21H10.9614V13.6136H8.03858V21H0Z" />
                </svg>

                <svg data-filled class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="CurrentColor">
                    <path d="M9.77143 0.5L0 7.5V21H7.05714V13H13.0286V21.5H19V7L9.77143 0.5Z" />
                </svg>
            </NavBarElement>

            <NavBarElement label="Sentiers" href='/sentiers' :class="{'active': isUrl('sentiers')}">
                <svg data-outlined class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="23" height="24" viewBox="0 0 23 24" fill="CurrentColor">
                    <path
                        d="M16.0588 23L7.94118 20.1459L2.11846 22.4091C1.71956 22.5643 1.3501 22.5199 1.01006 22.2759C0.67002 22.032 0.5 21.6983 0.5 21.275V3.45007C0.5 3.18165 0.571593 2.94075 0.71478 2.72737C0.85774 2.51399 1.05854 2.35939 1.31718 2.26358L7.94118 0L16.0588 2.8541L21.8815 0.590868C22.2804 0.435704 22.6499 0.473533 22.9899 0.704353C23.33 0.935173 23.5 1.25796 23.5 1.67271V19.6023C23.5 19.8793 23.422 20.1223 23.2659 20.3314C23.1097 20.5405 22.8981 20.6929 22.6311 20.7887L16.0588 23ZM15.0441 20.5067V4.6053L8.95588 2.4671V18.3685L15.0441 20.5067ZM17.0735 20.5067L21.4706 19.043V2.93769L17.0735 4.6053V20.5067ZM2.52941 20.0623L6.92647 18.3685V2.4671L2.52941 3.95701V20.0623Z" />
                </svg>

                <svg data-filled class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="21" height="22" viewBox="0 0 21 22" fill="CurrentColor">
                    <path
                        d="M14.2059 21.5L6.79412 18.8941L1.47772 20.9605C1.11351 21.1022 0.776177 21.0616 0.465706 20.8389C0.155235 20.6162 0 20.3115 0 19.925V3.65006C0 3.40498 0.0653678 3.18503 0.196103 2.99021C0.326633 2.79538 0.509971 2.65423 0.746118 2.56674L6.79412 0.5L14.2059 3.10592L19.5223 1.03949C19.8865 0.897817 20.2238 0.932357 20.5343 1.14311C20.8448 1.35385 21 1.64857 21 2.02726V18.3977C21 18.6507 20.9288 18.8726 20.7863 19.0635C20.6436 19.2544 20.4504 19.3935 20.2066 19.481L14.2059 21.5ZM13.2794 19.2235V4.70484L7.72059 2.75257V17.2713L13.2794 19.2235ZM15.1324 19.2235L19.1471 17.8871V3.18224L15.1324 4.70484V19.2235ZM1.85294 18.8178L5.86765 17.2713V2.75257L1.85294 4.11292V18.8178Z" />
                    <path d="M6.39137 1.86957L1.36963 3.69565V19.6739L6.39137 17.8478V1.86957Z" />
                    <path d="M19.6306 2.32611L14.6089 4.1522V20.1305L19.6306 18.3044V2.32611Z" />
                </svg>
            </NavBarElement>

            <NavBarElement label="Favoris" href="/favoris" :class="{'active': isUrl('favoris', 'login')}">
                <svg data-outlined class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19" fill="CurrentColor">
                    <path
                        d="M10 19L8.55 17.7C6.86667 16.1833 5.475 14.875 4.375 13.775C3.275 12.675 2.4 11.6875 1.75 10.8125C1.1 9.93749 0.645833 9.13333 0.3875 8.39999C0.129167 7.66666 0 6.91666 0 6.14999C0 4.58333 0.525 3.27499 1.575 2.22499C2.625 1.17499 3.93333 0.649994 5.5 0.649994C6.36667 0.649994 7.19167 0.833327 7.975 1.19999C8.75833 1.56666 9.43333 2.08333 10 2.74999C10.5667 2.08333 11.2417 1.56666 12.025 1.19999C12.8083 0.833327 13.6333 0.649994 14.5 0.649994C16.0667 0.649994 17.375 1.17499 18.425 2.22499C19.475 3.27499 20 4.58333 20 6.14999C20 6.91666 19.8708 7.66666 19.6125 8.39999C19.3542 9.13333 18.9 9.93749 18.25 10.8125C17.6 11.6875 16.725 12.675 15.625 13.775C14.525 14.875 13.1333 16.1833 11.45 17.7L10 19ZM10 16.3C11.6 14.8667 12.9167 13.6375 13.95 12.6125C14.9833 11.5875 15.8 10.6958 16.4 9.93749C17 9.17916 17.4167 8.50416 17.65 7.91249C17.8833 7.32083 18 6.73333 18 6.14999C18 5.14999 17.6667 4.31666 17 3.64999C16.3333 2.98333 15.5 2.64999 14.5 2.64999C13.7167 2.64999 12.9917 2.87083 12.325 3.31249C11.6583 3.75416 10.25 5.46666 10 6.14999C9.75 5.46666 8.34167 3.75416 7.675 3.31249C7.00833 2.87083 6.28333 2.64999 5.5 2.64999C4.5 2.64999 3.66667 2.98333 3 3.64999C2.33333 4.31666 2 5.14999 2 6.14999C2 6.73333 2.11667 7.32083 2.35 7.91249C2.58333 8.50416 3 9.17916 3.6 9.93749C4.2 10.6958 5.01667 11.5875 6.05 12.6125C7.08333 13.6375 8.4 14.8667 10 16.3Z" />
                </svg>

                <svg data-filled class="w-6 h-6 group-hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" width="21"
                    height="20" viewBox="0 0 21 20" fill="none">
                    <path
                        d="M10.5 19.5L8.9775 18.1539C7.21 16.5836 5.74875 15.2289 4.59375 14.0899C3.43875 12.951 2.52 11.9285 1.8375 11.0225C1.155 10.1165 0.678125 9.28383 0.406875 8.52452C0.135625 7.76521 0 6.98865 0 6.19482C0 4.57266 0.55125 3.21798 1.65375 2.13079C2.75625 1.0436 4.13 0.5 5.775 0.5C6.685 0.5 7.55125 0.689827 8.37375 1.06948C9.19625 1.44914 9.905 1.98411 10.5 2.67439C11.095 1.98411 11.8037 1.44914 12.6262 1.06948C13.4487 0.689827 14.315 0.5 15.225 0.5C16.87 0.5 18.2437 1.0436 19.3462 2.13079C20.4487 3.21798 21 4.57266 21 6.19482C21 6.98865 20.8644 7.76521 20.5931 8.52452C20.3219 9.28383 19.845 10.1165 19.1625 11.0225C18.48 11.9285 17.5613 12.951 16.4062 14.0899C15.2513 15.2289 13.79 16.5836 12.0225 18.1539L10.5 19.5ZM10.5 16.7044C12.18 15.2203 13.5625 13.9475 14.6475 12.8862C15.7325 11.8249 16.59 10.9017 17.22 10.1165C17.85 9.33129 18.2875 8.63238 18.5325 8.01975C18.7775 7.40713 18.9 6.79882 18.9 6.19482C18.9 5.1594 18.55 4.29655 17.85 3.60627C17.15 2.91599 16.275 2.57084 15.225 2.57084C14.4025 2.57084 13.6412 2.7995 12.9412 3.25681C12.2413 3.71412 10.7625 4.79246 10.5 5.5C10.2375 4.79246 8.75875 3.71412 8.05875 3.25681C7.35875 2.7995 6.5975 2.57084 5.775 2.57084C4.725 2.57084 3.85 2.91599 3.15 3.60627C2.45 4.29655 2.1 5.1594 2.1 6.19482C2.1 6.79882 2.2225 7.40713 2.4675 8.01975C2.7125 8.63238 3.15 9.33129 3.78 10.1165C4.41 10.9017 5.2675 11.8249 6.3525 12.8862C7.4375 13.9475 8.82 15.2203 10.5 16.7044Z"
                        fill="#101720" />
                    <path
                        d="M17.9999 2.49998C15.9999 0.0999767 12.1666 2.49998 10.4999 3.99998C9.49991 2.99998 6.79991 1.3 3.99991 2.49998C0.499907 3.99995 1.49991 7 1.49991 8.5C1.49991 9.7 7.49991 15.3333 10.4999 18L19.9999 8.5C20.1666 7.49999 19.9999 4.89998 17.9999 2.49998Z"
                        fill="#101720" stroke="#101720" />
                </svg>
            </NavBarElement>

            <NavBarElement label="Profil" href="/profile" :class="{'active': isUrl('profile')}">
                <svg data-outlined class="w-6 h-6 group-hover:text-blue-600" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="CurrentColor">
                    <path
                        d="M8 7.69225C7.0375 7.69225 6.21358 7.34958 5.52825 6.66425C4.84275 5.97875 4.5 5.15475 4.5 4.19225C4.5 3.22975 4.84275 2.40583 5.52825 1.7205C6.21358 1.035 7.0375 0.692245 8 0.692245C8.9625 0.692245 9.78642 1.035 10.4718 1.7205C11.1573 2.40583 11.5 3.22975 11.5 4.19225C11.5 5.15475 11.1573 5.97875 10.4718 6.66425C9.78642 7.34958 8.9625 7.69225 8 7.69225ZM0.5 15.3077V13.0845C0.5 12.5948 0.633 12.1413 0.899 11.724C1.165 11.3067 1.5205 10.9858 1.9655 10.7615C2.95383 10.277 3.95092 9.91358 4.95675 9.67125C5.96258 9.42891 6.977 9.30775 8 9.30775C9.023 9.30775 10.0374 9.42891 11.0433 9.67125C12.0491 9.91358 13.0462 10.277 14.0345 10.7615C14.4795 10.9858 14.835 11.3067 15.101 11.724C15.367 12.1413 15.5 12.5948 15.5 13.0845V15.3077H0.5ZM2 13.8077H14V13.0845C14 12.882 13.9413 12.6945 13.824 12.522C13.7067 12.3497 13.5474 12.209 13.3462 12.1C12.4846 11.6757 11.6061 11.3542 10.7107 11.1355C9.81525 10.917 8.91167 10.8077 8 10.8077C7.08833 10.8077 6.18475 10.917 5.28925 11.1355C4.39392 11.3542 3.51542 11.6757 2.65375 12.1C2.45258 12.209 2.29333 12.3497 2.176 12.522C2.05867 12.6945 2 12.882 2 13.0845V13.8077ZM8 6.19225C8.55 6.19225 9.02083 5.99641 9.4125 5.60475C9.80417 5.21308 10 4.74225 10 4.19225C10 3.64225 9.80417 3.17141 9.4125 2.77975C9.02083 2.38808 8.55 2.19225 8 2.19225C7.45 2.19225 6.97917 2.38808 6.5875 2.77975C6.19583 3.17141 6 3.64225 6 4.19225C6 4.74225 6.19583 5.21308 6.5875 5.60475C6.97917 5.99641 7.45 6.19225 8 6.19225Z" />
                </svg>

                <svg data-filled class="w-6 h-6 group-hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" width="21"
                    height="22" viewBox="0 0 21 22" fill="none">
                    <path
                        d="M10.5 10.5578C9.1525 10.5578 7.99902 10.0655 7.03955 9.08075C6.07985 8.09581 5.6 6.91186 5.6 5.52891C5.6 4.14596 6.07985 2.96213 7.03955 1.97742C7.99902 0.992474 9.1525 0.5 10.5 0.5C11.8475 0.5 13.001 0.992474 13.9605 1.97742C14.9201 2.96213 15.4 4.14596 15.4 5.52891C15.4 6.91186 14.9201 8.09581 13.9605 9.08075C13.001 10.0655 11.8475 10.5578 10.5 10.5578ZM0 21.5V18.3056C0 17.602 0.1862 16.9504 0.5586 16.3508C0.931 15.7511 1.4287 15.2901 2.0517 14.9678C3.43537 14.2717 4.83128 13.7495 6.23945 13.4013C7.64762 13.0531 9.0678 12.879 10.5 12.879C11.9322 12.879 13.3524 13.0531 14.7605 13.4013C16.1687 13.7495 17.5646 14.2717 18.9483 14.9678C19.5713 15.2901 20.069 15.7511 20.4414 16.3508C20.8138 16.9504 21 17.602 21 18.3056V21.5H0ZM2.1 19.3448H18.9V18.3056C18.9 18.0146 18.8179 17.7452 18.6536 17.4973C18.4893 17.2497 18.2664 17.0476 17.9847 16.891C16.7784 16.2813 15.5485 15.8194 14.295 15.5052C13.0413 15.1912 11.7763 15.0343 10.5 15.0343C9.22367 15.0343 7.95865 15.1912 6.70495 15.5052C5.45148 15.8194 4.22158 16.2813 3.01525 16.891C2.73362 17.0476 2.51067 17.2497 2.3464 17.4973C2.18213 17.7452 2.1 18.0146 2.1 18.3056V19.3448ZM10.5 8.40257C11.27 8.40257 11.9292 8.12119 12.4775 7.55843C13.0258 6.99567 13.3 6.31916 13.3 5.52891C13.3 4.73865 13.0258 4.06214 12.4775 3.49938C11.9292 2.93663 11.27 2.65525 10.5 2.65525C9.73 2.65525 9.07083 2.93663 8.5225 3.49938C7.97417 4.06214 7.7 4.73865 7.7 5.52891C7.7 6.31916 7.97417 6.99567 8.5225 7.55843C9.07083 8.12119 9.73 8.40257 10.5 8.40257Z"
                        fill="#101720" />
                    <ellipse cx="10.6911" cy="5.20237" rx="3.56364" ry="3.65739" fill="#101720" />
                    <path
                        d="M10.1817 14.0846C7.33079 14.0846 3.22413 15.8262 1.52716 16.697L1.01807 20.3544H19.8544C19.8544 19.4836 19.7526 17.533 19.3453 16.697C18.8362 15.652 13.7453 14.0846 10.1817 14.0846Z"
                        fill="#101720" stroke="#101720" />
                </svg>
            </NavBarElement>
        </div>
    </div>
</template>